# –°–∫—Ä–∏–ø—Ç—ã –¥–ª—è –Ω–∞–ø–æ–ª–Ω–µ–Ω–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–∫—Ä–∏–ø—Ç—ã –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `server/` —Å–æ —Å–ª–µ–¥—É—é—â–∏–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º:

```env
# Server configuration
PORT=8000

# JWT Secret Key
JWT_SECRET=your_secret_key_here

# User ID for scripts (optional)
# –ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω, —Å–∫—Ä–∏–ø—Ç—ã –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –ø—É–±–ª–∏—á–Ω–æ–π —Å—Ö–µ–º–æ–π
# –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω, —Å–∫—Ä–∏–ø—Ç—ã –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å —É–∫–∞–∑–∞–Ω–Ω–æ–π —Å—Ö–µ–º–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
USER_ID=1
```

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø–æ–ª—É—á–µ–Ω–∏—è USER_ID:
1. –ò–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω—ã)
2. –ò–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è `USER_ID` (–∏–∑ `.env` —Ñ–∞–π–ª–∞)
3. –ü—É–±–ª–∏—á–Ω–∞—è —Å—Ö–µ–º–∞ (–µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–æ)

---

## populate-test-workers.js

–°–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –Ω–∞–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–∞–±–ª–∏—Ü—ã `workers` —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏.

### –û–ø–∏—Å–∞–Ω–∏–µ

–°–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞–µ—Ç 10 —Ç–µ—Å—Ç–æ–≤—ã—Ö —Ä–∞–±–æ—Ç–Ω–∏–∫–æ–≤ —Å–æ —Å–ª—É—á–∞–π–Ω—ã–º–∏ –∏–º–µ–Ω–∞–º–∏ –∏ —Ñ–∞–º–∏–ª–∏—è–º–∏. –ü–æ–ª–µ `position` –º–æ–∂–µ—Ç –±—ã—Ç—å –ª–∏–±–æ "worker", –ª–∏–±–æ "itr" (–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —Å–ª—É—á–∞–π–Ω—ã–º –æ–±—Ä–∞–∑–æ–º).

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

#### 1. –ß–µ—Ä–µ–∑ npm script (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
npm run populate-workers
```

#### 2. –ù–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ node

```bash
node scripts/populate-test-workers.js
```

#### 3. –î–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–∑–∞–ø–æ–ª–Ω–∏—Ç —Å—Ö–µ–º—É user_X)

```bash
node scripts/populate-test-workers.js 1
```

–ì–¥–µ `1` - —ç—Ç–æ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –°–∫—Ä–∏–ø—Ç –∑–∞–ø–æ–ª–Ω–∏—Ç —Ç–∞–±–ª–∏—Ü—É `workers` –≤ —Å—Ö–µ–º–µ `user_1`.

### –í–∞–∂–Ω–æ

- –°–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `USER_ID` –∏–∑ `.env` —Ñ–∞–π–ª–∞, –µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω –∞—Ä–≥—É–º–µ–Ω—Ç –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
- –ë–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è userId (–Ω–∏ –≤ –∞—Ä–≥—É–º–µ–Ω—Ç–∞—Ö, –Ω–∏ –≤ `.env`) —Å–∫—Ä–∏–ø—Ç –∑–∞–ø–æ–ª–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ –≤ –ø—É–±–ª–∏—á–Ω—É—é —Å—Ö–µ–º—É (`public`)
- –° —É–∫–∞–∑–∞–Ω–∏–µ–º userId (–Ω–∞–ø—Ä–∏–º–µ—Ä, `1`) —Å–∫—Ä–∏–ø—Ç –∑–∞–ø–æ–ª–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ –≤ —Å—Ö–µ–º—É –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (`user_1`)
- –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã, –µ—Å–ª–∏ –æ–Ω–∏ —Å—É—â–µ—Å—Ç–≤—É—é—Ç
- –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—é —Ä–∞–±–æ—Ç–Ω–∏–∫–æ–≤ –ø–æ –ø–æ–∑–∏—Ü–∏—è–º

### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

#### 1. –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º USER_ID –∏–∑ .env

–°–æ–∑–¥–∞–π—Ç–µ `.env` —Ñ–∞–π–ª:
```env
USER_ID=1
```

–ó–∞—Ç–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç–µ:
```bash
npm run populate-workers
```

#### 2. –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—É–±–ª–∏—á–Ω–æ–π —Å—Ö–µ–º—ã (–±–µ–∑ .env –∏ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤)

```bash
npm run populate-workers
```

#### 3. –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç (–∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç .env)

```bash
node scripts/populate-test-workers.js 1
```

### –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞

```
–ù–∞—á–∏–Ω–∞—é –Ω–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã workers —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏...
–¶–µ–ª–µ–≤–∞—è —Å—Ö–µ–º–∞: public

1. –î–æ–±–∞–≤–ª–µ–Ω: –ê–ª–µ–∫—Å–∞–Ω–¥—Ä –ò–≤–∞–Ω–æ–≤ (worker)
2. –î–æ–±–∞–≤–ª–µ–Ω: –î–º–∏—Ç—Ä–∏–π –ü–µ—Ç—Ä–æ–≤ (itr)
3. –î–æ–±–∞–≤–ª–µ–Ω: –ú–∞–∫—Å–∏–º –°–º–∏—Ä–Ω–æ–≤ (worker)
...

‚úÖ –£—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ 10 –∏–∑ 10 —Ç–µ—Å—Ç–æ–≤—ã—Ö —Ä–∞–±–æ—Ç–Ω–∏–∫–æ–≤ –≤ —Ç–∞–±–ª–∏—Ü—É workers

üìä –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –ø–æ–∑–∏—Ü–∏—è–º:
   worker: 6
   itr: 4

üéâ –°–∫—Ä–∏–ø—Ç –∑–∞–≤–µ—Ä—à–µ–Ω —É—Å–ø–µ—à–Ω–æ!
```

---

## clear-workers.js

–°–∫—Ä–∏–ø—Ç –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –≤—Å–µ—Ö –∑–∞–ø–∏—Å–µ–π –∏–∑ —Ç–∞–±–ª–∏—Ü—ã `workers`.

### –û–ø–∏—Å–∞–Ω–∏–µ

–°–∫—Ä–∏–ø—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—á–∏—â–∞–µ—Ç —Ç–∞–±–ª–∏—Ü—É `workers` –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–π —Å—Ö–µ–º–µ (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π –∏–ª–∏ –ø—É–±–ª–∏—á–Ω–æ–π).

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

#### 1. –ß–µ—Ä–µ–∑ npm script

```bash
npm run clear-workers
```

#### 2. –ù–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ node

```bash
node scripts/clear-workers.js
```

#### 3. –î–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–æ—á–∏—Å—Ç–∏—Ç —Å—Ö–µ–º—É user_X)

```bash
node scripts/clear-workers.js 1
```

–ì–¥–µ `1` - —ç—Ç–æ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –°–∫—Ä–∏–ø—Ç –æ—á–∏—Å—Ç–∏—Ç —Ç–∞–±–ª–∏—Ü—É `workers` –≤ —Å—Ö–µ–º–µ `user_1`.

### ‚ö†Ô∏è –í–∞–∂–Ω–æ

- –°–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `USER_ID` –∏–∑ `.env` —Ñ–∞–π–ª–∞, –µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω –∞—Ä–≥—É–º–µ–Ω—Ç –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
- –ë–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è userId (–Ω–∏ –≤ –∞—Ä–≥—É–º–µ–Ω—Ç–∞—Ö, –Ω–∏ –≤ `.env`) —Å–∫—Ä–∏–ø—Ç —É–¥–∞–ª–∏—Ç –í–°–ï –∑–∞–ø–∏—Å–∏ –∏–∑ –ø—É–±–ª–∏—á–Ω–æ–π —Å—Ö–µ–º—ã (`public`)
- –° —É–∫–∞–∑–∞–Ω–∏–µ–º userId (–Ω–∞–ø—Ä–∏–º–µ—Ä, `1`) —Å–∫—Ä–∏–ø—Ç —É–¥–∞–ª–∏—Ç –∑–∞–ø–∏—Å–∏ –∏–∑ —Å—Ö–µ–º—ã –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (`user_1`)
- **–≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–æ–±—Ä–∞—Ç–∏–º–æ!**
- –°–∫—Ä–∏–ø—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–¥–∞–ª–µ–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π

### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

#### 1. –û—á–∏—Å—Ç–∫–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º USER_ID –∏–∑ .env

–°–æ–∑–¥–∞–π—Ç–µ `.env` —Ñ–∞–π–ª:
```env
USER_ID=1
```

–ó–∞—Ç–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç–µ:
```bash
npm run clear-workers
```

#### 2. –û—á–∏—Å—Ç–∫–∞ –ø—É–±–ª–∏—á–Ω–æ–π —Å—Ö–µ–º—ã (–±–µ–∑ .env –∏ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤)

```bash
npm run clear-workers
```

#### 3. –û—á–∏—Å—Ç–∫–∞ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç (–∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç .env)

```bash
node scripts/clear-workers.js 1
```

### –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞

```
‚ö†Ô∏è  –í–ù–ò–ú–ê–ù–ò–ï: –í—ã —Å–æ–±–∏—Ä–∞–µ—Ç–µ—Å—å —É–¥–∞–ª–∏—Ç—å –í–°–ï –∑–∞–ø–∏—Å–∏ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã workers –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 1!
–°—Ö–µ–º–∞: user_1
–≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–æ–±—Ä–∞—Ç–∏–º–æ.

–ù–∞—á–∏–Ω–∞—é –æ—á–∏—Å—Ç–∫—É —Ç–∞–±–ª–∏—Ü—ã workers...
–¶–µ–ª–µ–≤–∞—è —Å—Ö–µ–º–∞: user_1

–ù–∞–π–¥–µ–Ω–æ –∑–∞–ø–∏—Å–µ–π: 10

‚úÖ –£—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω–æ 10 –∑–∞–ø–∏—Å–µ–π –∏–∑ —Ç–∞–±–ª–∏—Ü—ã workers –≤ —Å—Ö–µ–º–µ user_1
üìä –û—Å—Ç–∞–≤—à–∏—Ö—Å—è –∑–∞–ø–∏—Å–µ–π: 0

üéâ –°–∫—Ä–∏–ø—Ç –∑–∞–≤–µ—Ä—à–µ–Ω —É—Å–ø–µ—à–Ω–æ!
```

---

## clear-parent-calculations.js

–°–∫—Ä–∏–ø—Ç –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –≤—Å–µ—Ö –∑–∞–ø–∏—Å–µ–π –∏–∑ —Ç–∞–±–ª–∏—Ü—ã `parent_calculation` –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

### –û–ø–∏—Å–∞–Ω–∏–µ

–°–∫—Ä–∏–ø—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—á–∏—â–∞–µ—Ç —Ç–∞–±–ª–∏—Ü—É `parent_calculation` –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–π —Å—Ö–µ–º–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ `parent_calculation` –∑–∞–ø–∏—Å–∏ –∫–∞—Å–∫–∞–¥–Ω–æ —É–¥–∞–ª—è—é—Ç—Å—è –≤—Å–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ `calculation` –∑–∞–ø–∏—Å–∏ –∏ –≤—Å–µ –∏—Ö –¥–æ—á–µ—Ä–Ω–∏–µ –¥–∞–Ω–Ω—ã–µ (specification_data, workers_data, itr_data, workers_tax_data, itr_tax_data) –±–ª–∞–≥–æ–¥–∞—Ä—è FOREIGN KEY —Å ON DELETE CASCADE.

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

#### 1. –ß–µ—Ä–µ–∑ npm script (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
npm run clear-parent-calculations
```

#### 2. –ù–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ node

```bash
node scripts/clear-parent-calculations.js 1
```

–ì–¥–µ `1` - —ç—Ç–æ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –°–∫—Ä–∏–ø—Ç –æ—á–∏—Å—Ç–∏—Ç —Ç–∞–±–ª–∏—Ü—É `parent_calculation` –≤ —Å—Ö–µ–º–µ `user_1`.

#### 3. –° –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º USER_ID –∏–∑ .env

–°–æ–∑–¥–∞–π—Ç–µ `.env` —Ñ–∞–π–ª:
```env
USER_ID=1
```

–ó–∞—Ç–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç–µ:
```bash
npm run clear-parent-calculations
```

### ‚ö†Ô∏è –í–∞–∂–Ω–æ

- –°–∫—Ä–∏–ø—Ç **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Ç—Ä–µ–±—É–µ—Ç** —É–∫–∞–∑–∞–Ω–∏—è `USER_ID` (–≤ –∞—Ä–≥—É–º–µ–Ω—Ç–∞—Ö –∏–ª–∏ –≤ `.env` —Ñ–∞–π–ª–µ)
- –° —É–∫–∞–∑–∞–Ω–∏–µ–º userId (–Ω–∞–ø—Ä–∏–º–µ—Ä, `1`) —Å–∫—Ä–∏–ø—Ç —É–¥–∞–ª–∏—Ç –∑–∞–ø–∏—Å–∏ –∏–∑ —Å—Ö–µ–º—ã –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (`user_1`)
- **–≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–æ–±—Ä–∞—Ç–∏–º–æ!**
- –í—Å–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Ä–∞—Å—á–µ—Ç—ã (calculations) –∏ –∏—Ö –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã –∫–∞—Å–∫–∞–¥–Ω–æ
- –°–∫—Ä–∏–ø—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–¥–∞–ª–µ–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π (parent_calculation –∏ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö calculations)

### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

#### 1. –û—á–∏—Å—Ç–∫–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 1 (—á–µ—Ä–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç)
```bash
node scripts/clear-parent-calculations.js 1
```

#### 2. –û—á–∏—Å—Ç–∫–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º USER_ID –∏–∑ .env (—á–µ—Ä–µ–∑ npm)
```bash
# –í .env: USER_ID=1
npm run clear-parent-calculations
```

### –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞

```
‚ö†Ô∏è  –í–ù–ò–ú–ê–ù–ò–ï: –í—ã —Å–æ–±–∏—Ä–∞–µ—Ç–µ—Å—å —É–¥–∞–ª–∏—Ç—å –í–°–ï –∑–∞–ø–∏—Å–∏ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã parent_calculation –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 1!
–°—Ö–µ–º–∞: user_1
–≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–æ–±—Ä–∞—Ç–∏–º–æ.

–ù–∞—á–∏–Ω–∞—é –æ—á–∏—Å—Ç–∫—É —Ç–∞–±–ª–∏—Ü—ã parent_calculation...
–¶–µ–ª–µ–≤–∞—è —Å—Ö–µ–º–∞: user_1

–ù–∞–π–¥–µ–Ω–æ –∑–∞–ø–∏—Å–µ–π parent_calculation: 5
–ù–∞–π–¥–µ–Ω–æ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π calculation: 15
(–í—Å–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ calculations –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã –∫–∞—Å–∫–∞–¥–Ω–æ)

‚úÖ –£—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω–æ 5 –∑–∞–ø–∏—Å–µ–π –∏–∑ —Ç–∞–±–ª–∏—Ü—ã parent_calculation
‚úÖ –£–¥–∞–ª–µ–Ω–æ 15 —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Ä–∞—Å—á–µ—Ç–æ–≤ (calculations)
üìä –û—Å—Ç–∞–≤—à–∏—Ö—Å—è –∑–∞–ø–∏—Å–µ–π –≤ parent_calculation: 0

üéâ –°–∫—Ä–∏–ø—Ç –∑–∞–≤–µ—Ä—à–µ–Ω —É—Å–ø–µ—à–Ω–æ!
```

---

## clone-calculation.js

–°–∫—Ä–∏–ø—Ç –¥–ª—è –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π `calculation` —Å–æ –≤—Å–µ–º–∏ —Å–≤—è–∑–∞–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏.

### –û–ø–∏—Å–∞–Ω–∏–µ

–°–∫—Ä–∏–ø—Ç –∫–æ–ø–∏—Ä—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é `calculation` –∏ –≤—Å–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –Ω–µ–π –¥–∞–Ω–Ω—ã–µ (specification_data, workers_data, itr_data, workers_tax_data, itr_tax_data). –¢–∞–∫–∂–µ —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é `parent_calculation` –∑–∞–ø–∏—Å—å, –µ—Å–ª–∏ `calculation_type = 'plan'`.

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

#### 1. –ß–µ—Ä–µ–∑ npm script (—Å USER_ID –≤ .env)

```bash
npm run clone-calculation
```

#### 2. –ù–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ node

```bash
node scripts/clone-calculation.js [sourceCalcId] [userId]
```

–ì–¥–µ:
- `sourceCalcId` - ID –∏—Å—Ö–æ–¥–Ω–æ–π calculation –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 1)
- `userId` - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω, –±–µ—Ä–µ—Ç—Å—è –∏–∑ .env)

### ‚ö†Ô∏è –í–∞–∂–Ω–æ

- –°–∫—Ä–∏–ø—Ç **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Ç—Ä–µ–±—É–µ—Ç** —É–∫–∞–∑–∞–Ω–∏—è `USER_ID` (–≤ `.env` –∏–ª–∏ —á–µ—Ä–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç)
- –ö–ª–æ–Ω–∏—Ä—É–µ—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π calculation
- –°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é `parent_calculation`, –µ—Å–ª–∏ `calculation_type = 'plan'`
- –î–ª—è –¥—Ä—É–≥–∏—Ö —Ç–∏–ø–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π `parent_calculation_id`

### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

#### –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ calculation ID=1 –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ .env

–°–æ–∑–¥–∞–π—Ç–µ `.env` —Ñ–∞–π–ª:
```env
USER_ID=3
```

–ó–∞—Ç–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç–µ:
```bash
node scripts/clone-calculation.js 1
```

#### –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç .env)

```bash
node scripts/clone-calculation.js 1 3
```

#### –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥—Ä—É–≥–æ–π calculation

```bash
node scripts/clone-calculation.js 2 1
```

### –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞

```
–ù–∞—á–∏–Ω–∞—é –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ calculation ID=1 –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 3
–¶–µ–ª–µ–≤–∞—è —Å—Ö–µ–º–∞: user_3

‚úì –ù–∞–π–¥–µ–Ω–∞ calculation: "–¢–µ—Å—Ç–æ–≤—ã–π —Ä–∞—Å—á–µ—Ç"
  –¢–∏–ø: plan
  Parent ID: 1
‚úì –ó–∞–≥—Ä—É–∂–µ–Ω—ã —Å–≤—è–∑–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:
  - specification_data: 5 –∑–∞–ø–∏—Å–µ–π
  - workers_data: 10 –∑–∞–ø–∏—Å–µ–π
  - itr_data: 3 –∑–∞–ø–∏—Å–µ–π
  - workers_tax_data: 12 –∑–∞–ø–∏—Å–µ–π
  - itr_tax_data: 8 –∑–∞–ø–∏—Å–µ–π

‚úì –°–æ–∑–¥–∞–Ω–∞ –Ω–æ–≤–∞—è parent_calculation ID=2: "–¢–µ—Å—Ç–æ–≤—ã–π —Ä–∞—Å—á–µ—Ç (–∫–æ–ø–∏—è 2024-01-15)"
‚úì –°–æ–∑–¥–∞–Ω–∞ –Ω–æ–≤–∞—è calculation ID=2: "–¢–µ—Å—Ç–æ–≤—ã–π —Ä–∞—Å—á–µ—Ç (–∫–æ–ø–∏—è)"
  ‚úì –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω—ã –¥–∞–Ω–Ω—ã–µ specification_data_table: 5 –∑–∞–ø–∏—Å–µ–π
  ‚úì –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω—ã –¥–∞–Ω–Ω—ã–µ workers_data_table: 10 –∑–∞–ø–∏—Å–µ–π
  ‚úì –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω—ã –¥–∞–Ω–Ω—ã–µ itr_data_table: 3 –∑–∞–ø–∏—Å–µ–π
  ‚úì –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω—ã –¥–∞–Ω–Ω—ã–µ workers_tax_data: 12 –∑–∞–ø–∏—Å–µ–π
  ‚úì –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω—ã –¥–∞–Ω–Ω—ã–µ itr_tax_data: 8 –∑–∞–ø–∏—Å–µ–π

‚úÖ –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ!
üìä –°–æ–∑–¥–∞–Ω–∞ –Ω–æ–≤–∞—è –∑–∞–ø–∏—Å—å:
   - calculation ID: 2
   - parent_calculation ID: 2
   - title: "–¢–µ—Å—Ç–æ–≤—ã–π —Ä–∞—Å—á–µ—Ç (–∫–æ–ø–∏—è)"

üéâ –°–∫—Ä–∏–ø—Ç –∑–∞–≤–µ—Ä—à–µ–Ω —É—Å–ø–µ—à–Ω–æ!
```

---

## backup-calculations.js

–°–∫—Ä–∏–ø—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª–Ω–æ–≥–æ –±—ç–∫–∞–ø–∞ –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü `parent_calculation` –∏ –≤—Å–µ—Ö —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü.

### –û–ø–∏—Å–∞–Ω–∏–µ

–°–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞–µ—Ç –ø–æ–ª–Ω—ã–π –±—ç–∫–∞–ø –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å —Ä–∞—Å—á–µ—Ç–∞–º–∏:
- `parent_calculation` - —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–µ —Ä–∞—Å—á–µ—Ç—ã
- `calculation` - –æ—Å–Ω–æ–≤–Ω—ã–µ —Ä–∞—Å—á–µ—Ç—ã
- `specification_data` –∏ `specification_data_table` - –¥–∞–Ω–Ω—ã–µ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–π
- `workers_data` –∏ `workers_data_table` - –¥–∞–Ω–Ω—ã–µ –ø–æ —Ä–∞–±–æ—á–∏–º
- `itr_data` –∏ `itr_data_table` - –¥–∞–Ω–Ω—ã–µ –ò–¢–†
- `workers_tax_data` - –Ω–∞–ª–æ–≥–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ —Ä–∞–±–æ—á–∏—Ö
- `itr_tax_data` - –Ω–∞–ª–æ–≥–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –ò–¢–†

–ë—ç–∫–∞–ø —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `server/backups/` —Å –∏–º–µ–Ω–µ–º —Ñ–∞–π–ª–∞, —Å–æ–¥–µ—Ä–∂–∞—â–∏–º –¥–∞—Ç—É –∏ –≤—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è.

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

#### 1. –ß–µ—Ä–µ–∑ npm script (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
npm run backup-calculations
```

#### 2. –ù–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ node

```bash
node scripts/backup-calculations.js [userId]
```

–ì–¥–µ `userId` - —ç—Ç–æ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –°–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞—Å—Ç –±—ç–∫–∞–ø –¥–ª—è —Å—Ö–µ–º—ã `user_{userId}`.

#### 3. –° –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º USER_ID –∏–∑ .env

–°–æ–∑–¥–∞–π—Ç–µ `.env` —Ñ–∞–π–ª:
```env
USER_ID=1
```

–ó–∞—Ç–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç–µ:
```bash
npm run backup-calculations
```

### ‚ö†Ô∏è –í–∞–∂–Ω–æ

- –°–∫—Ä–∏–ø—Ç **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Ç—Ä–µ–±—É–µ—Ç** —É–∫–∞–∑–∞–Ω–∏—è `USER_ID` (–≤ –∞—Ä–≥—É–º–µ–Ω—Ç–∞—Ö –∏–ª–∏ –≤ `.env` —Ñ–∞–π–ª–µ)
- –ë—ç–∫–∞–ø —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `server/backups/`
- –ò–º—è —Ñ–∞–π–ª–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–∞—Ç—É –∏ –≤—Ä–µ–º—è: `backup_user_{userId}_{timestamp}.json`
- –ë—ç–∫–∞–ø –≤–∫–ª—é—á–∞–µ—Ç –≤—Å–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –ø–æ–ª–Ω–æ–º –æ–±—ä–µ–º–µ
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Ä–µ–≥—É–ª—è—Ä–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –±—ç–∫–∞–ø—ã –ø–µ—Ä–µ–¥ –≤–∞–∂–Ω—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏

### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

#### 1. –°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 1 (—á–µ—Ä–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç)
```bash
node scripts/backup-calculations.js 1
```

#### 2. –°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º USER_ID –∏–∑ .env (—á–µ—Ä–µ–∑ npm)
```bash
# –í .env: USER_ID=1
npm run backup-calculations
```

### –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞

```
–ù–∞—á–∏–Ω–∞—é —Å–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 1...
–¶–µ–ª–µ–≤–∞—è —Å—Ö–µ–º–∞: user_1

‚úì –ù–∞–π–¥–µ–Ω–æ parent_calculation –∑–∞–ø–∏—Å–µ–π: 5

üì¶ –û–±—Ä–∞–±–æ—Ç–∫–∞ parent_calculation ID=1: "–ü—Ä–æ–µ–∫—Ç –ê"
  ‚úì –ù–∞–π–¥–µ–Ω–æ calculations: 3
üì¶ –û–±—Ä–∞–±–æ—Ç–∫–∞ parent_calculation ID=2: "–ü—Ä–æ–µ–∫—Ç –ë"
  ‚úì –ù–∞–π–¥–µ–Ω–æ calculations: 2
...

‚úÖ –ë—ç–∫–∞–ø —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω!
üìÅ –§–∞–π–ª: /path/to/server/backups/backup_user_1_2024-01-15_14-30-45.json

üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±—ç–∫–∞–ø–∞:
   - parent_calculations: 5
   - calculations: 15
   - specification_data: 12
   - workers_data: 10
   - itr_data: 8
   - workers_tax_data: 45 –∑–∞–ø–∏—Å–µ–π
   - itr_tax_data: 32 –∑–∞–ø–∏—Å–µ–π

üéâ –ë—ç–∫–∞–ø –∑–∞–≤–µ—Ä—à–µ–Ω —É—Å–ø–µ—à–Ω–æ!
üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω –≤: /path/to/server/backups/backup_user_1_2024-01-15_14-30-45.json
```

---

## restore-calculations.js

–°–∫—Ä–∏–ø—Ç –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ –±—ç–∫–∞–ø–∞.

### –û–ø–∏—Å–∞–Ω–∏–µ

–°–∫—Ä–∏–ø—Ç –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ñ–∞–π–ª–∞ –±—ç–∫–∞–ø–∞, —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–æ–º `backup-calculations.js`. –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Å–≤—è–∑–µ–π –º–µ–∂–¥—É –Ω–∏–º–∏.

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

#### 1. –ß–µ—Ä–µ–∑ npm script

```bash
npm run restore-calculations <backupFilePath> [userId] [--clear]
```

#### 2. –ù–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ node

```bash
node scripts/restore-calculations.js <backupFilePath> [userId] [--clear]
```

–ì–¥–µ:
- `backupFilePath` - –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É –±—ç–∫–∞–ø–∞ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π)
- `userId` - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω, –±–µ—Ä–µ—Ç—Å—è –∏–∑ –±—ç–∫–∞–ø–∞ –∏–ª–∏ .env)
- `--clear` - —Ñ–ª–∞–≥ –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ–º (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### ‚ö†Ô∏è –í–∞–∂–Ω–æ

- –°–∫—Ä–∏–ø—Ç **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Ç—Ä–µ–±—É–µ—Ç** —É–∫–∞–∑–∞–Ω–∏—è –ø—É—Ç–∏ –∫ —Ñ–∞–π–ª—É –±—ç–∫–∞–ø–∞
- –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω —Ñ–ª–∞–≥ `--clear`, –≤—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã –ø–µ—Ä–µ–¥ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ–º
- **–î–µ–π—Å—Ç–≤–∏–µ —Å —Ñ–ª–∞–≥–æ–º `--clear` –Ω–µ–æ–±—Ä–∞—Ç–∏–º–æ!**
- –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç userId –∏–∑ –±—ç–∫–∞–ø–∞, –µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω —è–≤–Ω–æ
- –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –≤—Å–µ —Å–≤—è–∑–∏ –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏
- –ù–æ–≤—ã–µ ID –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å—Ç–∞—Ä—ã–µ ID –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è)

### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

#### 1. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ –±—ç–∫–∞–ø–∞ (–±–µ–∑ –æ—á–∏—Å—Ç–∫–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö)
```bash
node scripts/restore-calculations.js backups/backup_user_1_2024-01-15_14-30-45.json 1
```

#### 2. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å –æ—á–∏—Å—Ç–∫–æ–π —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö
```bash
node scripts/restore-calculations.js backups/backup_user_1_2024-01-15_14-30-45.json 1 --clear
```

#### 3. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º USER_ID –∏–∑ .env
```bash
# –í .env: USER_ID=1
node scripts/restore-calculations.js backups/backup_user_1_2024-01-15_14-30-45.json
```

#### 4. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–º –ø—É—Ç–µ–º
```bash
node scripts/restore-calculations.js backups/backup_user_1_2024-01-15_14-30-45.json
```

### –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞

```
‚ö†Ô∏è  –í–ù–ò–ú–ê–ù–ò–ï: –ë—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã –≤—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ–º!
–≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–æ–±—Ä–∞—Ç–∏–º–æ.

–ù–∞—á–∏–Ω–∞—é –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ –±—ç–∫–∞–ø–∞...
–§–∞–π–ª –±—ç–∫–∞–ø–∞: /path/to/server/backups/backup_user_1_2024-01-15_14-30-45.json
–î–∞—Ç–∞ –±—ç–∫–∞–ø–∞: 2024-01-15T14:30:45.123Z
–¶–µ–ª–µ–≤–∞—è —Å—Ö–µ–º–∞: user_1

‚ö†Ô∏è  –û—á–∏—Å—Ç–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö...
‚úì –£–¥–∞–ª–µ–Ω–æ 3 —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∑–∞–ø–∏—Å–µ–π parent_calculation

üì¶ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ parent_calculation: "–ü—Ä–æ–µ–∫—Ç –ê"
  ‚úì –°–æ–∑–¥–∞–Ω–∞ parent_calculation ID=1
üì¶ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ parent_calculation: "–ü—Ä–æ–µ–∫—Ç –ë"
  ‚úì –°–æ–∑–¥–∞–Ω–∞ parent_calculation ID=2
...

‚úÖ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ!

üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è:
   - parent_calculations: 5
   - calculations: 15
   - specification_data: 12
   - workers_data: 10
   - itr_data: 8
   - workers_tax_data: 45 –∑–∞–ø–∏—Å–µ–π
   - itr_tax_data: 32 –∑–∞–ø–∏—Å–µ–π

üéâ –°–∫—Ä–∏–ø—Ç –∑–∞–≤–µ—Ä—à–µ–Ω —É—Å–ø–µ—à–Ω–æ!
```

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –±—ç–∫–∞–ø–æ–≤

1. **–†–µ–≥—É–ª—è—Ä–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–æ–≤**: –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–æ–∑–¥–∞–≤–∞—Ç—å –±—ç–∫–∞–ø—ã –ø–µ—Ä–µ–¥ –≤–∞–∂–Ω—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏ –∏–ª–∏ —Ä–µ–≥—É–ª—è—Ä–Ω–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –µ–∂–µ–¥–Ω–µ–≤–Ω–æ)

2. **–•—Ä–∞–Ω–µ–Ω–∏–µ –±—ç–∫–∞–ø–æ–≤**: 
   - –ë—ç–∫–∞–ø—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `server/backups/`
   - –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –±—ç–∫–∞–ø—ã –Ω–∞ –≤–Ω–µ—à–Ω–∏–µ –Ω–æ—Å–∏—Ç–µ–ª–∏ –∏–ª–∏ –≤ –æ–±–ª–∞—á–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
   - –ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –±—ç–∫–∞–ø–æ–≤

3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –±—ç–∫–∞–ø–æ–≤**: –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å —Ñ–∞–π–ª–æ–≤ –±—ç–∫–∞–ø–∞

4. **–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ**: 
   - –í—Å–µ–≥–¥–∞ —Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞ —Ç–µ—Å—Ç–æ–≤–æ–π —Å—Ä–µ–¥–µ –ø–µ—Ä–µ–¥ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ–º –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–ª–∞–≥ `--clear` —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –∑–∞–º–µ–Ω–∏—Ç—å –≤—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ

5. **–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ**: –§–∞–π–ª—ã –±—ç–∫–∞–ø–∞ —Å–æ–¥–µ—Ä–∂–∞—Ç –¥–∞—Ç—É –∏ –≤—Ä–µ–º—è, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –≤–µ—Ä—Å–∏–∏